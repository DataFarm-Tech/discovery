{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/DeviceMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\n\n// Fix Leaflet's broken default icon paths\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\n  iconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\n  shadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\n});\n\ninterface DeviceMapProps {\n  lat: number;\n  lng: number;\n  nodeName: string;\n}\n\nexport default function DeviceMap({ lat, lng, nodeName }: DeviceMapProps) {\n  const mapRef = useRef<HTMLDivElement | null>(null);\n  const leafletMap = useRef<L.Map | null>(null);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n    if (leafletMap.current) return;\n\n    // Create map with Google-like behavior\n    leafletMap.current = L.map(mapRef.current, {\n      zoomControl: true,      // Google-style zoom buttons\n      scrollWheelZoom: true,  // Smooth zooming\n      dragging: true,\n      inertia: true,\n      zoomAnimation: true,\n      fadeAnimation: true,\n    }).setView([lat, lng], 15);\n\n    // Google Mapsâ€“like street tiles (safe to use)\n    L.tileLayer(\n      \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      {\n        attribution: \"&copy; OpenStreetMap contributors\",\n        minZoom: 3,\n        maxZoom: 19,\n      }\n    ).addTo(leafletMap.current);\n\n    // Marker\n    L.marker([lat, lng]).addTo(leafletMap.current).bindPopup(nodeName);\n\n    return () => {\n      if (leafletMap.current) {\n        leafletMap.current.remove();\n        leafletMap.current = null;\n      }\n    };\n  }, [lat, lng, nodeName]);\n\n  return (\n    <div\n      ref={mapRef}\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        borderRadius: \"16px\",\n        overflow: \"hidden\",\n        boxShadow: \"0 0 20px #00be6433\",\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;;AAMA,0CAA0C;AAC1C,OAAO,AAAC,+JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAS,WAAW;AACpD,+JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAC1B,eAAe;IACf,SAAS;IACT,WAAW;AACb;AAQe,SAAS,UAAU,EAAE,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAkB;;IACtE,MAAM,SAAS,IAAA,uKAAM,EAAwB;IAC7C,MAAM,aAAa,IAAA,uKAAM,EAAe;IAExC,IAAA,0KAAS;+BAAC;YACR,IAAI,CAAC,OAAO,OAAO,EAAE;YACrB,IAAI,WAAW,OAAO,EAAE;YAExB,uCAAuC;YACvC,WAAW,OAAO,GAAG,+JAAC,CAAC,GAAG,CAAC,OAAO,OAAO,EAAE;gBACzC,aAAa;gBACb,iBAAiB;gBACjB,UAAU;gBACV,SAAS;gBACT,eAAe;gBACf,eAAe;YACjB,GAAG,OAAO,CAAC;gBAAC;gBAAK;aAAI,EAAE;YAEvB,8CAA8C;YAC9C,+JAAC,CAAC,SAAS,CACT,sDACA;gBACE,aAAa;gBACb,SAAS;gBACT,SAAS;YACX,GACA,KAAK,CAAC,WAAW,OAAO;YAE1B,SAAS;YACT,+JAAC,CAAC,MAAM,CAAC;gBAAC;gBAAK;aAAI,EAAE,KAAK,CAAC,WAAW,OAAO,EAAE,SAAS,CAAC;YAEzD;uCAAO;oBACL,IAAI,WAAW,OAAO,EAAE;wBACtB,WAAW,OAAO,CAAC,MAAM;wBACzB,WAAW,OAAO,GAAG;oBACvB;gBACF;;QACF;8BAAG;QAAC;QAAK;QAAK;KAAS;IAEvB,qBACE,6LAAC;QACC,KAAK;QACL,OAAO;YACL,OAAO;YACP,QAAQ;YACR,cAAc;YACd,UAAU;YACV,WAAW;QACb;;;;;;AAGN;GAnDwB;KAAA"}}]
}