{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/SearchBar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\n\ninterface SearchBarProps {\n  value: string;\n  onChange: (value: string) => void;\n  paddocks?: Array<{ paddock_id?: number; id?: number; paddock_name?: string; name?: string }>;\n  devices?: Array<{ node_id: string; node_name: string }>;\n  onItemSelect?: (item: any) => void;\n}\n\nexport default function SearchBar({ \n  value, \n  onChange, \n  paddocks = [], \n  devices = [],\n  onItemSelect \n}: SearchBarProps) {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Combine paddocks and devices into searchable items\n  const searchItems = [\n    ...paddocks.map(p => ({ \n      id: `paddock-${p.paddock_id || p.id}`, \n      name: p.paddock_name || p.name || 'Unnamed Paddock', \n      type: 'paddock',\n      data: p \n    })),\n    ...devices.map(d => ({ \n      id: `device-${d.node_id}`, \n      name: d.node_name || d.node_id, \n      type: 'device',\n      data: d \n    }))\n  ];\n\n  // Filter items based on search query\n  const filteredItems = searchItems.filter(item =>\n    item.name.toLowerCase().includes(value.toLowerCase())\n  );\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setShowDropdown(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (newValue: string) => {\n    onChange(newValue);\n    setShowDropdown(newValue.length > 0);\n  };\n\n  const handleItemClick = (item: any) => {\n    onChange(item.name);\n    setShowDropdown(false);\n    if (onItemSelect) {\n      onItemSelect(item.data);\n    }\n  };\n\n  return (\n    <div ref={dropdownRef} className=\"flex-1 mx-4 max-w-lg relative\">\n      {/* Search Input */}\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          placeholder=\"Search paddocks or devices...\"\n          value={value}\n          onChange={(e) => handleInputChange(e.target.value)}\n          onFocus={() => value.length > 0 && setShowDropdown(true)}\n          className=\"w-full px-4 py-2 bg-[#2c3e50] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00be64] transition\"\n        />\n\n        {/* Clear Button */}\n        {value && (\n          <button\n            onClick={() => {\n              onChange('');\n              setShowDropdown(false);\n            }}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-4 w-4\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </button>\n        )}\n      </div>\n\n      {/* Dropdown Results */}\n      {showDropdown && filteredItems.length > 0 && (\n        <div className=\"absolute w-full mt-2 bg-[#1a1f2e] rounded-lg border border-[#00be64]/30 shadow-xl overflow-hidden z-50 max-h-96 overflow-y-auto\">\n          {filteredItems.map((item) => (\n            <div\n              key={item.id}\n              onClick={() => handleItemClick(item)}\n              className=\"px-4 py-3 hover:bg-[#2c3e50] cursor-pointer transition-colors border-b border-gray-700 last:border-b-0 flex items-center gap-3\"\n            >\n              {/* Icon based on type */}\n              <div className={`p-2 rounded-lg ${\n                item.type === 'paddock' \n                  ? 'bg-[#00be64]/20 text-[#00be64]' \n                  : 'bg-blue-500/20 text-blue-400'\n              }`}>\n                {item.type === 'paddock' ? (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"h-4 w-4\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                ) : (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"h-4 w-4\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                  >\n                    <path d=\"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z\" />\n                  </svg>\n                )}\n              </div>\n\n              <div className=\"flex-1\">\n                <div className=\"text-white font-medium text-sm\">{item.name}</div>\n                <div className=\"text-xs text-gray-400 capitalize mt-0.5\">\n                  {item.type}\n                </div>\n              </div>\n\n              {/* Arrow icon */}\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-4 w-4 text-gray-400\"\n                viewBox=\"0 0 20 20\"\n                fill=\"currentColor\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* No Results */}\n      {showDropdown && value.length > 0 && filteredItems.length === 0 && (\n        <div className=\"absolute w-full mt-2 bg-[#1a1f2e] rounded-lg border border-[#00be64]/30 shadow-xl overflow-hidden z-50\">\n          <div className=\"px-4 py-6 text-center text-gray-400\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-10 w-10 mx-auto mb-2 opacity-50\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n            <p className=\"text-sm\">No results found</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/DashboardHeader.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport SearchBar from '@/components/SearchBar';\n\ninterface DashboardHeaderProps {\n  userName: string | null;\n  menuOpen: boolean;\n  setMenuOpen: (open: boolean) => void;\n  searchQuery: string;\n  setSearchQuery: (query: string) => void;\n  paddocks?: Array<{ paddock_id?: number; id?: number; paddock_name?: string; name?: string }>;\n  devices?: Array<{ node_id: string; node_name: string }>;\n  onSearchItemSelect?: (item: any) => void;\n}\n\nexport default function DashboardHeader({ \n  userName, \n  menuOpen, \n  setMenuOpen,\n  searchQuery,\n  setSearchQuery,\n  paddocks = [],\n  devices = [],\n  onSearchItemSelect\n}: DashboardHeaderProps) {\n  const router = useRouter();\n\n  return (\n    <header className=\"mb-8 flex justify-between items-center border-b border-white/20 pb-4\">\n      <div className=\"flex items-center gap-3\">\n        <button\n          className=\"text-white/80 hover:text-white transition\"\n          title=\"Menu\"\n          onClick={() => setMenuOpen(!menuOpen)}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </button>\n        <h1 className=\"text-2xl font-semibold text-white\">Discovery</h1>\n      </div>\n\n      {/* Use the SearchBar Component with data */}\n      <SearchBar \n        value={searchQuery} \n        onChange={setSearchQuery}\n        paddocks={paddocks}\n        devices={devices}\n        onItemSelect={onSearchItemSelect}\n      />\n\n      <div className=\"flex items-center gap-4\">\n        <button className=\"text-white/80 hover:text-white transition relative\" title=\"Notifications\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n          </svg>\n          <span className=\"absolute top-0 right-0 inline-flex h-2 w-2 rounded-full bg-red-500\"></span>\n        </button>\n\n        <button\n          onClick={() => {\n            localStorage.removeItem('token');\n            router.push('/');\n          }}\n          className=\"px-3 py-1 bg-[#00be64] text-white font-semibold rounded hover:bg-[#009e53] transition\"\n        >\n          Logout\n        </button>\n      </div>\n    </header>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAgBe,SAAS,gBAAgB,EACtC,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,WAAW,EACX,cAAc,EACd,WAAW,EAAE,EACb,UAAU,EAAE,EACZ,kBAAkB,EACG;IACrB,MAAM,SAAS,IAAA,+IAAS;IAExB,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,OAAM;wBACN,SAAS,IAAM,YAAY,CAAC;kCAE5B,cAAA,8OAAC;4BAAI,OAAM;4BAA6B,WAAU;4BAAU,MAAK;4BAAO,SAAQ;4BAAY,QAAO;4BAAe,aAAa;sCAC7H,cAAA,8OAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,GAAE;;;;;;;;;;;;;;;;kCAGzD,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;;;;;;;0BAIpD,8OAAC,0IAAS;gBACR,OAAO;gBACP,UAAU;gBACV,UAAU;gBACV,SAAS;gBACT,cAAc;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,WAAU;wBAAqD,OAAM;;0CAC3E,8OAAC;gCAAI,OAAM;gCAA6B,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;gCAAe,aAAa;0CAC7H,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,GAAE;;;;;;;;;;;0CAEvD,8OAAC;gCAAK,WAAU;;;;;;;;;;;;kCAGlB,8OAAC;wBACC,SAAS;4BACP,aAAa,UAAU,CAAC;4BACxB,OAAO,IAAI,CAAC;wBACd;wBACA,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport { FiSettings, FiLayers } from 'react-icons/fi';\n\ninterface SidebarProps {\n  menuOpen: boolean;\n  setMenuOpen: (state: boolean) => void;\n}\n\nconst Sidebar = ({ menuOpen, setMenuOpen }: SidebarProps) => {\n  return (\n    <>\n      {menuOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 transition-opacity duration-500 ease-in-out\"\n          style={{ opacity: 1 }} // Ensures the background opacity is animated\n          onClick={() => setMenuOpen(false)} // Close the sidebar when clicking outside\n        >\n          <div\n            className={`absolute top-0 left-0 h-full w-[360px] backdrop-blur-lg border-r border-white/20 shadow-lg p-8 flex flex-col justify-between rounded-r-2xl transition-transform duration-500 ease-in-out ${\n              menuOpen ? 'translate-x-0' : '-translate-x-full'\n            }`}\n            style={{ backgroundColor: 'rgba(11, 19, 32, 0.85)' }} // Dark blue background with transparency\n            onClick={(e) => e.stopPropagation()} // Prevent closing when clicking inside\n          >\n            {/* Logo */}\n            <div className=\"mb-6 flex items-center justify-start\">\n              <img src=\"./datafarm-logo-trans.png\" alt=\"DataFarm Logo\" className=\"w-46 h-auto\" />\n            </div>\n\n            {/* Settings and Help at the bottom */}\n            <div className=\"mt-auto\">\n              <ul className=\"space-y-6 text-white/90\">\n                <li className=\"text-lg\">\n                  <a href=\"/settings\" className=\"flex items-center gap-4 hover:text-[#00be64] transition\">\n                    <FiSettings size={24} />\n                    <span>Settings</span>\n                  </a>\n                </li>\n                <li className=\"mb-6 text-lg\">\n                  <a href=\"/help\" className=\"flex items-center gap-4 hover:text-[#00be64] transition\">\n                    <FiLayers size={24} />\n                    <span>Help</span>\n                  </a>\n                </li>\n              </ul>\n            </div>\n\n            {/* Footer */}\n            <div className=\"pt-6 border-t border-white/10 text-sm text-white/70 mt-6\">\n              <p className=\"text-lg\">DataFarm Technologies Pty Ltd © {new Date().getFullYear()}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Sidebar;\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASA,MAAM,UAAU,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAgB;IACtD,qBACE;kBACG,0BACC,8OAAC;YACC,WAAU;YACV,OAAO;gBAAE,SAAS;YAAE;YACpB,SAAS,IAAM,YAAY;sBAE3B,cAAA,8OAAC;gBACC,WAAW,CAAC,yLAAyL,EACnM,WAAW,kBAAkB,qBAC7B;gBACF,OAAO;oBAAE,iBAAiB;gBAAyB;gBACnD,SAAS,CAAC,IAAM,EAAE,eAAe;;kCAGjC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,KAAI;4BAA4B,KAAI;4BAAgB,WAAU;;;;;;;;;;;kCAIrE,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAE,MAAK;wCAAY,WAAU;;0DAC5B,8OAAC,4JAAU;gDAAC,MAAM;;;;;;0DAClB,8OAAC;0DAAK;;;;;;;;;;;;;;;;;8CAGV,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAE,MAAK;wCAAQ,WAAU;;0DACxB,8OAAC,0JAAQ;gDAAC,MAAM;;;;;;0DAChB,8OAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOd,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;;gCAAU;gCAAiC,IAAI,OAAO,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAO5F;uCAEe"}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/DeviceTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { FaMicrochip } from \"react-icons/fa6\";\nimport { MdAdd } from \"react-icons/md\";\n\nexport interface Device {\n  node_id: string;\n  node_name: string;\n  battery?: number;\n}\n\nexport default function DeviceTable({\n  devices,\n  onAddDevice,\n  onDeviceClick,\n}: {\n  devices: Device[];\n  onAddDevice: () => void;\n  onDeviceClick: (device: Device) => void;\n}) {\n  return (\n    <div className=\"bg-[#141826] border border-[#00be64]/60 rounded-2xl shadow-lg p-8 w-full\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-bold text-white flex items-center gap-3\">\n          <FaMicrochip className=\"text-[#00be64]\" size={26} />\n          Devices\n        </h2>\n\n        <button\n          onClick={onAddDevice}\n          className=\"flex items-center gap-2 px-4 py-2 bg-[#00be64] hover:bg-[#009e53] text-white rounded-lg transition-all font-semibold shadow-md hover:shadow-[#00be64]/20\"\n        >\n          <MdAdd size={20} /> Add Device\n        </button>\n      </div>\n\n      {/* Empty State */}\n      {devices.length === 0 ? (\n        <div className=\"text-white/80 p-10 text-center border border-dashed border-white/20 rounded-xl bg-white/5\">\n          <p className=\"text-xl font-semibold\">No devices yet</p>\n          <p className=\"mt-2 text-white/60 text-base\">\n            Start by adding a new device.\n          </p>\n        </div>\n      ) : (\n        <div className=\"max-h-[420px] overflow-y-auto pr-2 space-y-3\">\n          {devices.map((d) => (\n            <div\n              key={d.node_id}\n              onClick={() => onDeviceClick(d)}\n              className=\"group bg-[#1b2134] border border-[#00be64]/20 hover:border-[#00be64] rounded-xl p-4 flex items-center justify-between cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-[#00be64]/10\"\n            >\n              {/* Left side */}\n              <div className=\"flex items-center gap-4\">\n                <div className=\"p-3 bg-[#00be64]/10 rounded-lg\">\n                  <FaMicrochip className=\"text-[#00be64]\" size={26} />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white\">\n                    {d.node_name || `Device ${d.node_id}`}\n                  </h3>\n                  <p className=\"text-white/50 text-sm\">Node ID: {d.node_id}</p>\n                </div>\n              </div>\n\n              {/* Battery */}\n              {typeof d.battery === \"number\" && (\n                <div className=\"flex flex-col items-end w-32\">\n                  <span\n                    className={`text-sm font-medium mb-1 ${\n                      d.battery > 60\n                        ? \"text-[#00be64]\"\n                        : d.battery > 30\n                        ? \"text-yellow-400\"\n                        : \"text-red-500\"\n                    }`}\n                  >\n                    {d.battery}%\n                  </span>\n\n                  <div className=\"w-full bg-white/10 rounded-full h-2\">\n                    <div\n                      className={`h-2 rounded-full ${\n                        d.battery > 60\n                          ? \"bg-[#00be64]\"\n                          : d.battery > 30\n                          ? \"bg-yellow-400\"\n                          : \"bg-red-500\"\n                      }`}\n                      style={{ width: `${d.battery}%` }}\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,YAAY,EAClC,OAAO,EACP,WAAW,EACX,aAAa,EAKd;IACC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;;0CACZ,8OAAC,8JAAW;gCAAC,WAAU;gCAAiB,MAAM;;;;;;4BAAM;;;;;;;kCAItD,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC,uJAAK;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;YAKtB,QAAQ,MAAM,KAAK,kBAClB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAE,WAAU;kCAA+B;;;;;;;;;;;qCAK9C,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;wBAEC,SAAS,IAAM,cAAc;wBAC7B,WAAU;;0CAGV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,8JAAW;4CAAC,WAAU;4CAAiB,MAAM;;;;;;;;;;;kDAEhD,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DACX,EAAE,SAAS,IAAI,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE;;;;;;0DAEvC,8OAAC;gDAAE,WAAU;;oDAAwB;oDAAU,EAAE,OAAO;;;;;;;;;;;;;;;;;;;4BAK3D,OAAO,EAAE,OAAO,KAAK,0BACpB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAW,CAAC,yBAAyB,EACnC,EAAE,OAAO,GAAG,KACR,mBACA,EAAE,OAAO,GAAG,KACZ,oBACA,gBACJ;;4CAED,EAAE,OAAO;4CAAC;;;;;;;kDAGb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,WAAW,CAAC,iBAAiB,EAC3B,EAAE,OAAO,GAAG,KACR,iBACA,EAAE,OAAO,GAAG,KACZ,kBACA,cACJ;4CACF,OAAO;gDAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;4CAAC;;;;;;;;;;;;;;;;;;uBAzCnC,EAAE,OAAO;;;;;;;;;;;;;;;;AAoD5B"}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/SoilHealthScore.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\n\ninterface Props {\n  score: number; // 0–100\n}\n\nexport default function SoilHealthScore({ score }: Props) {\n  const [displayScore, setDisplayScore] = useState(0);\n\n  // Animate score from 0 → value\n  useEffect(() => {\n    let current = 0;\n    const step = Math.ceil(score / 40); // speed control\n    const interval = setInterval(() => {\n      current += step;\n      if (current >= score) {\n        current = score;\n        clearInterval(interval);\n      }\n      setDisplayScore(current);\n    }, 30);\n\n    return () => clearInterval(interval);\n  }, [score]);\n\n  const circleRadius = 60;\n  const circumference = 2 * Math.PI * circleRadius;\n  const progress = (displayScore / 100) * circumference;\n\n  return (\n    <div className=\"bg-[#11172b] border border-[#00be64] rounded-2xl p-6 shadow-[0_0_18px_#00be6444] flex flex-col items-center justify-center\">\n      <h3 className=\"text-white/80 font-semibold mb-4\">Soil Health Score</h3>\n\n      <div className=\"relative w-40 h-40 flex items-center justify-center\">\n        {/* Outer glow */}\n        <div className=\"absolute w-full h-full rounded-full blur-xl bg-[#00be64]/20\"></div>\n\n        {/* Circular progress ring */}\n        <svg className=\"w-full h-full transform -rotate-90\">\n          <circle\n            cx=\"80\"\n            cy=\"80\"\n            r={circleRadius}\n            stroke=\"#1f2937\"\n            strokeWidth=\"10\"\n            fill=\"none\"\n          />\n          <circle\n            cx=\"80\"\n            cy=\"80\"\n            r={circleRadius}\n            stroke=\"#00be64\"\n            strokeWidth=\"10\"\n            strokeLinecap=\"round\"\n            fill=\"none\"\n            strokeDasharray={circumference}\n            strokeDashoffset={circumference - progress}\n            className=\"transition-all duration-300 ease-out\"\n          />\n        </svg>\n\n        {/* Score number */}\n        <div className=\"absolute text-center\">\n          <p className=\"text-4xl font-bold text-[#00be64]\">{displayScore}</p>\n          <p className=\"text-sm text-white/60 mt-1\">/ 100</p>\n        </div>\n      </div>\n\n      <p className=\"text-white/70 text-sm mt-4 text-center px-2\">\n        Higher scores indicate healthier, more balanced soil conditions.\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS,gBAAgB,EAAE,KAAK,EAAS;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,MAAM,OAAO,KAAK,IAAI,CAAC,QAAQ,KAAK,gBAAgB;QACpD,MAAM,WAAW,YAAY;YAC3B,WAAW;YACX,IAAI,WAAW,OAAO;gBACpB,UAAU;gBACV,cAAc;YAChB;YACA,gBAAgB;QAClB,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAM;IAEV,MAAM,eAAe;IACrB,MAAM,gBAAgB,IAAI,KAAK,EAAE,GAAG;IACpC,MAAM,WAAW,AAAC,eAAe,MAAO;IAExC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAmC;;;;;;0BAEjD,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;;;;;kCAGf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,IAAG;gCACH,IAAG;gCACH,GAAG;gCACH,QAAO;gCACP,aAAY;gCACZ,MAAK;;;;;;0CAEP,8OAAC;gCACC,IAAG;gCACH,IAAG;gCACH,GAAG;gCACH,QAAO;gCACP,aAAY;gCACZ,eAAc;gCACd,MAAK;gCACL,iBAAiB;gCACjB,kBAAkB,gBAAgB;gCAClC,WAAU;;;;;;;;;;;;kCAKd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;0BAI9C,8OAAC;gBAAE,WAAU;0BAA8C;;;;;;;;;;;;AAKjE"}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/lib/paddock.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\nexport interface CreatePaddockRequest {\n  paddock_name: string | null;\n}\n\nexport interface CreatePaddockResponse {\n  success: boolean;\n  message: string;\n}\n\nexport interface PaddockApiError {\n  success: false;\n  message: string;\n}\nexport interface UpdatePaddockRequest {\n  paddock_name: string;\n}\n\nexport interface UpdatePaddockResponse {\n  success: boolean;\n  message: string;\n  paddock?: {\n    paddock_id: number;\n    paddock_name: string;\n  };\n}\n\nexport interface GetDevicesPaddockResponse {\n    success: boolean;\n    message: string;\n    devices: Array<{\n      node_id: string;\n      node_name: string;\n      battery: number;\n    }>;\n}\n\nexport interface SensorAveragesResponse {\n  success: boolean;\n  message: string;\n  paddock_id?: number;\n  paddock_name?: string;\n  nodes_count?: number;\n  nodes_with_readings?: number;\n  sensor_averages?: {\n    [key: string]: number;\n  };\n  sensor_details?: {\n    [key: string]: {\n      average: number;\n      min: number;\n      max: number;\n      count: number;\n    };\n  };\n}\n\nexport async function getPaddockDevices(\n    paddockId: string,\n    token: string\n  ): Promise<GetDevicesPaddockResponse | PaddockApiError> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/paddock/${paddockId}/devices`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n  \n      const data = await response.json();\n  \n      if (!response.ok) {\n        return {\n          success: false,\n          message: data.message || 'Failed to fetch devices',\n          devices: [],\n        };\n      }\n        return {\n        success: true,\n        message: data.message || 'Devices fetched successfully',\n        devices: data.devices || [],\n      };\n\n    } catch (error) {\n      console.error('Error fetching paddock devices:', error);\n      return {\n        success: false,\n        message: 'An error occurred while fetching devices',\n        devices: [],\n      };\n    }\n}\n\n/**\n * Gets sensor averages for a paddock\n * @param paddockId - ID of the paddock\n * @param token - JWT authentication token\n * @returns Promise with sensor averages data\n */\nexport async function getPaddockSensorAverages(\n  paddockId: string,\n  token: string\n): Promise<SensorAveragesResponse | PaddockApiError> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/paddock/${paddockId}/sensor-averages`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || 'Failed to fetch sensor averages',\n      };\n    }\n\n    return {\n      success: true,\n      message: data.message || 'Sensor averages fetched successfully',\n      paddock_id: data.paddock_id,\n      paddock_name: data.paddock_name,\n      nodes_count: data.nodes_count,\n      nodes_with_readings: data.nodes_with_readings,\n      sensor_averages: data.sensor_averages || {},\n      sensor_details: data.sensor_details || {},\n    };\n  } catch (error) {\n    console.error('Error fetching sensor averages:', error);\n    return {\n      success: false,\n      message: 'An error occurred while fetching sensor averages',\n    };\n  }\n}\n\n/**\n * Creates a new paddock\n * @param paddockName - Name of the paddock (optional)\n * @param token - JWT authentication token\n * @returns Promise with the API response\n */\nexport async function createPaddock(\n  paddockName: string | null,\n  token: string\n): Promise<CreatePaddockResponse> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/paddock/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        paddock_name: paddockName || null,\n      }),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || data.detail || 'Failed to create paddock',\n      };\n    }\n\n    return {\n      success: true,\n      message: data.message || 'Paddock created successfully'\n    };\n  } catch (error) {\n    console.error('Error creating paddock:', error);\n    return {\n      success: false,\n      message: 'An error occurred. Please try again.',\n    };\n  }\n}\n\n/**\n * Gets all paddocks for the current user\n * @param token - JWT authentication token\n * @returns Promise with array of paddocks\n */\nexport async function getPaddocks(token: string) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/paddock/list`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || 'Failed to fetch paddocks',\n        paddocks: [],\n      };\n    }\n\n    return {\n      success: true,\n      paddocks: data.paddocks || [],\n    };\n  } catch (error) {\n    console.error('Error fetching paddocks:', error);\n    return {\n      success: false,\n      message: 'An error occurred while fetching paddocks',\n      paddocks: [],\n    };\n  }\n}\n\n/**\n * Updates a paddock's name\n * @param paddockId - ID of the paddock to update\n * @param paddockName - New name for the paddock\n * @param token - JWT authentication token\n * @returns Promise with the API response\n */\nexport async function updatePaddockName(\n  paddockId: string,\n  paddockName: string,\n  token: string\n): Promise<UpdatePaddockResponse> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/paddock/${paddockId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON. stringify({\n        paddock_name: paddockName,\n      }),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || data.detail || 'Failed to update paddock',\n      };\n    }\n\n    return {\n      success: true,\n      message: data.message || 'Paddock updated successfully',\n      paddock: data.paddock,\n    };\n  } catch (error) {\n    console.error('Error updating paddock:', error);\n    return {\n      success: false,\n      message: 'An error occurred.  Please try again.',\n    };\n  }\n}\n\n/**\n * Deletes a paddock\n * @param paddockId - ID of the paddock to delete\n * @param token - JWT authentication token\n * @returns Promise with the API response\n */\nexport async function deletePaddock(paddockId: string | number, token: string) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/paddock/${paddockId}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error deleting paddock:', error);\n    return {\n      success: false,\n      message: 'Failed to delete paddock',\n    };\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/lib/device.ts"],"sourcesContent":["// api/device.ts\n\n/**\n * Base URL for API requests.\n * Pulled from NEXT_PUBLIC_API_URL or defaults to local server.\n */\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n\n/**\n * Request payload for updating/registering a device.\n */\nexport interface UpdateDeviceRequest {\n  /** Unique identifier of the device (node). */\n  node_id: string;\n\n  /** Optional readable name for the device. */\n  node_name?: string;\n\n  /** Paddock the device belongs to. */\n  paddock_id: number;\n}\n\n/**\n * Response for device update/register requests.\n */\nexport interface UpdateDeviceResponse {\n  success: boolean;\n  message: string;\n  node?: {\n    node_id: string;\n    node_name: string;\n    paddock_id: number;\n  };\n}\n\n/**\n * Request parameters to fetch device data.\n */\nexport interface DeviceDataRequest {\n  /** Device Node ID. */\n  nodeId: string;\n\n  /** Reading type being requested – e.g., \"temperature\", \"ph\". */\n  readingType: string;\n}\n\n/**\n * Response structure for device data queries.\n */\nexport interface DeviceDataResponse {\n  success: boolean;\n  message: string;\n  node?: {\n    node_id: string;\n    node_name: string;\n    paddock_id: number;\n    readings: {\n      reading_type: string;\n      reading_val: number | string;\n      timestamp: string;\n    }[];\n  };\n}\n\n/**\n * Fetches sensor readings for a specific device and reading type.\n *\n * @param deviceDataReq - Object containing nodeId and readingType.\n * @param token - JWT authentication token.\n *\n * @returns A promise resolving to a DeviceDataResponse.\n *\n * The backend endpoint:\n *   GET /device/view/{nodeId}/{readingType}\n */\nexport async function getDeviceData(\n  deviceDataReq: DeviceDataRequest,\n  token: string\n): Promise<DeviceDataResponse> {\n  try {\n    const response = await fetch(\n      `${API_BASE_URL}/device/view/${deviceDataReq.nodeId}/${deviceDataReq.readingType}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || data.detail || \"Failed to fetch device data\",\n      };\n    }\n\n    return {\n      success: true,\n      message: \"Device data fetched successfully\",\n      node: {\n        node_id: data.node_id,\n        node_name: data.node_name || \"\",\n        paddock_id: data.paddock_id,\n        readings: data.readings || [],\n      },\n    };\n  } catch (error) {\n    console.error(\"Error fetching device data:\", error);\n    return {\n      success: false,\n      message: \"An error occurred. Please try again.\",\n    };\n  }\n}\n\n\n/**\n * Registers or updates a device in the backend.\n *\n * @param deviceData - Device registration/update payload.\n * @param token - JWT authentication token.\n *\n * @returns A promise resolving to an UpdateDeviceResponse.\n *\n * The backend endpoint:\n *   POST /device/register\n */\nexport async function updateDevice(\n  deviceData: UpdateDeviceRequest,\n  token: string\n): Promise<UpdateDeviceResponse> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/device/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(deviceData),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || data.detail || \"Failed to update device\",\n      };\n    }\n\n    return {\n      success: true,\n      message: data.message || \"Device updated successfully\",\n      node: {\n        node_id: data.node.node_id,\n        node_name: data.node.node_name || \"\",\n        paddock_id: data.node.paddock_id,\n      },\n    };\n  } catch (error) {\n    console.error(\"Error updating device:\", error);\n    return {\n      success: false,\n      message: \"An error occurred. Please try again.\",\n    };\n  }\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;AAEhB;;;CAGC;;;;;;AACD,MAAM,eAAe,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAqEjD,eAAe,cACpB,aAAgC,EAChC,KAAa;IAEb,IAAI;QACF,MAAM,WAAW,MAAM,MACrB,GAAG,aAAa,aAAa,EAAE,cAAc,MAAM,CAAC,CAAC,EAAE,cAAc,WAAW,EAAE,EAClF;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;QACF;QAGF,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO;gBACL,SAAS;gBACT,SAAS,KAAK,OAAO,IAAI,KAAK,MAAM,IAAI;YAC1C;QACF;QAEA,OAAO;YACL,SAAS;YACT,SAAS;YACT,MAAM;gBACJ,SAAS,KAAK,OAAO;gBACrB,WAAW,KAAK,SAAS,IAAI;gBAC7B,YAAY,KAAK,UAAU;gBAC3B,UAAU,KAAK,QAAQ,IAAI,EAAE;YAC/B;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;YACL,SAAS;YACT,SAAS;QACX;IACF;AACF;AAcO,eAAe,aACpB,UAA+B,EAC/B,KAAa;IAEb,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,gBAAgB,CAAC,EAAE;YAC9D,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;YAClC;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO;gBACL,SAAS;gBACT,SAAS,KAAK,OAAO,IAAI,KAAK,MAAM,IAAI;YAC1C;QACF;QAEA,OAAO;YACL,SAAS;YACT,SAAS,KAAK,OAAO,IAAI;YACzB,MAAM;gBACJ,SAAS,KAAK,IAAI,CAAC,OAAO;gBAC1B,WAAW,KAAK,IAAI,CAAC,SAAS,IAAI;gBAClC,YAAY,KAAK,IAAI,CAAC,UAAU;YAClC;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;YACL,SAAS;YACT,SAAS;QACX;IACF;AACF"}},
    {"offset": {"line": 1200, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/RegisterDeviceModal.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport toast from \"react-hot-toast\";\nimport { updateDevice, UpdateDeviceRequest } from \"@/lib/device\";\n\ninterface RegisterDeviceModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  paddockId: number;\n  onSuccess?: () => void;\n}\n\nexport default function RegisterDeviceModal({\n  isOpen,\n  onClose,\n  paddockId,\n  onSuccess,\n}: RegisterDeviceModalProps) {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [nodeId, setNodeId] = useState(\"\");\n  const [nodeName, setNodeName] = useState(\"\");\n\n  const handleRegisterDevice = async () => {\n    if (!nodeId.trim()) {\n      toast.error(\"Node ID is required\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        toast.error(\"Please log in first!\");\n        router.push(\"/\");\n        return;\n      }\n\n      const deviceData: UpdateDeviceRequest = {\n        node_id: nodeId.trim(),\n        node_name: nodeName.trim(),\n        paddock_id: paddockId,\n      };\n\n      const result = await updateDevice(deviceData, token);\n      if (!result.success) {\n        toast.error(result.message);\n        setLoading(false);\n        return;\n      }\n\n      toast.success(result.message);\n      setNodeId(\"\");\n      setNodeName(\"\");\n      onClose();\n\n      if (onSuccess) {\n        onSuccess();\n      } else {\n        setTimeout(() => {\n          router.refresh();\n        }, 500);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Unexpected error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !loading) {\n      handleRegisterDevice();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl w-full max-w-2xl\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"border-b border-[#00be64]/20 p-6 flex justify-between items-center\">\n          <h2 className=\"text-2xl font-bold text-white\">Register Device</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white transition-colors p-1\"\n            disabled={loading}\n            aria-label=\"Close modal\"\n          >\n            <svg\n              className=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          <div>\n            <label\n              htmlFor=\"nodeId\"\n              className=\"block text-sm font-semibold mb-2 text-white\"\n            >\n              Node ID <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              id=\"nodeId\"\n              type=\"text\"\n              value={nodeId}\n              onChange={(e) => setNodeId(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Enter Node ID\"\n              className=\"w-full px-4 py-3 bg-[#0c1220] border border-gray-700 rounded-lg text-white focus:outline-none focus:border-[#00be64] transition-colors\"\n              disabled={loading}\n            />\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"nodeName\"\n              className=\"block text-sm font-semibold mb-2 text-white\"\n            >\n              Node Name <span className=\"text-gray-500\">(optional)</span>\n            </label>\n            <input\n              id=\"nodeName\"\n              type=\"text\"\n              value={nodeName}\n              onChange={(e) => setNodeName(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Enter Node Name\"\n              className=\"w-full px-4 py-3 bg-[#0c1220] border border-gray-700 rounded-lg text-white focus:outline-none focus:border-[#00be64] transition-colors\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"flex gap-3 justify-end pt-4\">\n            <button\n              onClick={onClose}\n              disabled={loading}\n              className=\"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all text-white font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleRegisterDevice}\n              disabled={loading}\n              className={`px-6 py-3 rounded-lg transition-all text-white font-medium ${\n                loading\n                  ? \"bg-[#00be64]/50 cursor-not-allowed\"\n                  : \"bg-[#00be64] hover:bg-[#009e53]\"\n              }`}\n            >\n              {loading ? \"Registering...\" : \"Register Device\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/StatsTile.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ninterface StatsTileProps {\n  title: string;\n  value: string | number;\n  unit?: string;\n  className?: string; // Add this line to accept `className`\n}\n\nexport default function StatsTile({\n  title,\n  value,\n  unit,\n  className,\n}: StatsTileProps) {\n  const [displayValue, setDisplayValue] = useState(0);\n\n  useEffect(() => {\n    const targetValue = Number(value);\n    const isDecimal = targetValue % 1 !== 0;\n\n    if (isDecimal) {\n      // For decimal values, animate smoothly to the target\n      const duration = 800; // milliseconds\n      const steps = 20;\n      const increment = targetValue / steps;\n      let currentStep = 0;\n\n      const intervalId = setInterval(() => {\n        currentStep++;\n        if (currentStep <= steps) {\n          setDisplayValue(increment * currentStep);\n        } else {\n          setDisplayValue(targetValue);\n          clearInterval(intervalId);\n        }\n      }, duration / steps);\n\n      return () => clearInterval(intervalId);\n    } else {\n      // For whole numbers, count up by 1\n      let counter = 0;\n      const intervalId = setInterval(() => {\n        if (counter < targetValue) {\n          counter += 1;\n          setDisplayValue(counter);\n        } else {\n          clearInterval(intervalId);\n        }\n      }, 200);\n\n      return () => clearInterval(intervalId);\n    }\n  }, [value]);\n\n  const formattedValue = Number(displayValue).toFixed(2);\n\n  return (\n    <div\n      className={`bg-[#1a1f2e] border border-[#00be64] rounded-lg shadow p-5 w-full ${className}`}\n    >\n      <h3 className=\"text-sm font-semibold text-white/80 mb-2\">{title}</h3>\n      <p className=\"text-2xl font-bold text-[#00be64] flex items-baseline gap-2\">\n        <span>{formattedValue}</span>\n        {unit && <span className=\"text-lg text-[#00be64]\">{unit}</span>}\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,UAAU,EAChC,KAAK,EACL,KAAK,EACL,IAAI,EACJ,SAAS,EACM;IACf,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,OAAO;QAC3B,MAAM,YAAY,cAAc,MAAM;QAEtC,IAAI,WAAW;YACb,qDAAqD;YACrD,MAAM,WAAW,KAAK,eAAe;YACrC,MAAM,QAAQ;YACd,MAAM,YAAY,cAAc;YAChC,IAAI,cAAc;YAElB,MAAM,aAAa,YAAY;gBAC7B;gBACA,IAAI,eAAe,OAAO;oBACxB,gBAAgB,YAAY;gBAC9B,OAAO;oBACL,gBAAgB;oBAChB,cAAc;gBAChB;YACF,GAAG,WAAW;YAEd,OAAO,IAAM,cAAc;QAC7B,OAAO;YACL,mCAAmC;YACnC,IAAI,UAAU;YACd,MAAM,aAAa,YAAY;gBAC7B,IAAI,UAAU,aAAa;oBACzB,WAAW;oBACX,gBAAgB;gBAClB,OAAO;oBACL,cAAc;gBAChB;YACF,GAAG;YAEH,OAAO,IAAM,cAAc;QAC7B;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,OAAO,cAAc,OAAO,CAAC;IAEpD,qBACE,8OAAC;QACC,WAAW,CAAC,kEAAkE,EAAE,WAAW;;0BAE3F,8OAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAC1D,8OAAC;gBAAE,WAAU;;kCACX,8OAAC;kCAAM;;;;;;oBACN,sBAAQ,8OAAC;wBAAK,WAAU;kCAA0B;;;;;;;;;;;;;;;;;;AAI3D"}},
    {"offset": {"line": 1551, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/components/RecentAverages.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { getPaddockSensorAverages } from \"@/lib/paddock\";\nimport StatsTile from \"./StatsTile\";\n\ninterface RecentAveragesProps {\n  paddockId: string;\n}\n\nexport default function RecentAverages({ paddockId }: RecentAveragesProps) {\n  const [averages, setAverages] = useState<{ [key: string]: number }>({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [nodesInfo, setNodesInfo] = useState<{\n    count: number;\n    withReadings: number;\n  } | null>(null);\n\n  useEffect(() => {\n    if (!paddockId) return;\n\n    const fetchAverages = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const token = localStorage.getItem(\"token\") || \"\";\n        const result = await getPaddockSensorAverages(paddockId, token);\n\n        if (!result.success) {\n          throw new Error(result.message);\n        }\n\n        setAverages(result.sensor_averages || {});\n        setNodesInfo({\n          count: result.nodes_count || 0,\n          withReadings: result.nodes_with_readings || 0,\n        });\n      } catch (err: any) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAverages();\n  }, [paddockId]);\n\n  // Helper function to format sensor names\n  const formatSensorName = (key: string): string => {\n    return key\n      .split(\"_\")\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(\" \");\n  };\n\n  // Helper function to get unit for sensor type\n  const getSensorUnit = (key: string): string => {\n    const units: { [key: string]: string } = {\n      temperature: \"°C\",\n      ph: \"\",\n      moisture: \"%\",\n      humidity: \"%\",\n      nitrogen: \"ppm\",\n      phosphorus: \"ppm\",\n      potassium: \"ppm\",\n    };\n    return units[key.toLowerCase()] || \"\";\n  };\n\n  if (loading) {\n    return (\n      <section className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl shadow-xl p-8 relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-[#00be64]/10 to-transparent pointer-events-none\" />\n        <h2 className=\"text-2xl font-semibold mb-6 relative z-10\">\n          Recent Averages\n        </h2>\n        <p className=\"text-gray-400 relative z-10\">Loading sensor data...</p>\n      </section>\n    );\n  }\n\n  if (error) {\n    return (\n      <section className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl shadow-xl p-8 relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-[#00be64]/10 to-transparent pointer-events-none\" />\n        <h2 className=\"text-2xl font-semibold mb-6 relative z-10\">\n          Recent Averages\n        </h2>\n        <p className=\"text-red-500 relative z-10\">{error}</p>\n      </section>\n    );\n  }\n\n  const hasData = Object.keys(averages).length > 0;\n\n  return (\n    <section className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl shadow-xl p-8 relative overflow-hidden\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-[#00be64]/10 to-transparent pointer-events-none\" />\n\n      <div className=\"relative z-10\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-semibold\">Recent Averages</h2>\n          {nodesInfo && (\n            <p className=\"text-sm text-gray-400\">\n              {nodesInfo.withReadings} of {nodesInfo.count} devices reporting\n            </p>\n          )}\n        </div>\n\n        {hasData ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n            {Object.entries(averages).map(([key, value]) => (\n              <StatsTile\n                key={key}\n                title={formatSensorName(key)}\n                value={value}\n                unit={getSensorUnit(key)}\n              />\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-gray-400\">\n            No sensor data available for this paddock.\n          </p>\n        )}\n\n        {hasData && (\n          <p className=\"text-gray-400 text-sm mt-6\">\n            Values represent the most recent average readings from all active\n            sensors in this paddock.\n          </p>\n        )}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,eAAe,EAAE,SAAS,EAAuB;IACvE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA4B,CAAC;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAGhC;IAEV,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW;QAEhB,MAAM,gBAAgB;YACpB,WAAW;YACX,SAAS;YAET,IAAI;gBACF,MAAM,QAAQ,aAAa,OAAO,CAAC,YAAY;gBAC/C,MAAM,SAAS,MAAM,IAAA,iJAAwB,EAAC,WAAW;gBAEzD,IAAI,CAAC,OAAO,OAAO,EAAE;oBACnB,MAAM,IAAI,MAAM,OAAO,OAAO;gBAChC;gBAEA,YAAY,OAAO,eAAe,IAAI,CAAC;gBACvC,aAAa;oBACX,OAAO,OAAO,WAAW,IAAI;oBAC7B,cAAc,OAAO,mBAAmB,IAAI;gBAC9C;YACF,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO;YACtB,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAU;IAEd,yCAAyC;IACzC,MAAM,mBAAmB,CAAC;QACxB,OAAO,IACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IACxD,IAAI,CAAC;IACV;IAEA,8CAA8C;IAC9C,MAAM,gBAAgB,CAAC;QACrB,MAAM,QAAmC;YACvC,aAAa;YACb,IAAI;YACJ,UAAU;YACV,UAAU;YACV,UAAU;YACV,YAAY;YACZ,WAAW;QACb;QACA,OAAO,KAAK,CAAC,IAAI,WAAW,GAAG,IAAI;IACrC;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAG1D,8OAAC;oBAAE,WAAU;8BAA8B;;;;;;;;;;;;IAGjD;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAG1D,8OAAC;oBAAE,WAAU;8BAA8B;;;;;;;;;;;;IAGjD;IAEA,MAAM,UAAU,OAAO,IAAI,CAAC,UAAU,MAAM,GAAG;IAE/C,qBACE,8OAAC;QAAQ,WAAU;;0BACjB,8OAAC;gBAAI,WAAU;;;;;;0BAEf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAyB;;;;;;4BACtC,2BACC,8OAAC;gCAAE,WAAU;;oCACV,UAAU,YAAY;oCAAC;oCAAK,UAAU,KAAK;oCAAC;;;;;;;;;;;;;oBAKlD,wBACC,8OAAC;wBAAI,WAAU;kCACZ,OAAO,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACzC,8OAAC,0IAAS;gCAER,OAAO,iBAAiB;gCACxB,OAAO;gCACP,MAAM,cAAc;+BAHf;;;;;;;;;6CAQX,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;oBAK9B,yBACC,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;;;;;;;AAQpD"}},
    {"offset": {"line": 1772, "column": 0}, "map": {"version":3,"sources":["file:///home/lucasaponso/datafarm/discovery/src/app/paddock/view/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport DashboardHeader from \"@/components/DashboardHeader\";\nimport Sidebar from \"@/components/Sidebar\";\nimport DeviceTable, { Device } from \"@/components/DeviceTable\";\nimport SoilHealthScore from \"@/components/SoilHealthScore\";\nimport { MdDelete, MdEdit, MdArrowBack } from \"react-icons/md\";\nimport {\n  getPaddockDevices,\n  updatePaddockName,\n  deletePaddock,\n} from \"@/lib/paddock\";\nimport toast from \"react-hot-toast\";\nimport RegisterDeviceModal from \"@/components/RegisterDeviceModal\";\nimport RecentAverages from \"@/components/RecentAverages\";\n\nexport default function Page() {\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [devices, setDevices] = useState<Device[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [newPaddockName, setNewPaddockName] = useState(\"\");\n  const [editError, setEditError] = useState<string | null>(null);\n  const [paddockId, setPaddockId] = useState<string | null>(null);\n  const [paddockName, setPaddockName] = useState<string>(\"\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const router = useRouter();\n\n  useEffect(() => {\n    const data = sessionStorage.getItem(\"paddockData\");\n    if (data) {\n      const { paddockId, paddockName } = JSON.parse(data);\n      setPaddockId(paddockId?.toString() || null);\n      setPaddockName(paddockName || \"\");\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!paddockId) return;\n\n    const fetchDevices = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const token = localStorage.getItem(\"token\") || \"\";\n        const result = await getPaddockDevices(paddockId, token);\n\n        if (!result.success) {\n          throw new Error(result.message);\n        }\n\n        const mapped: Device[] = result.devices.map((d: any) => ({\n          node_id: d.node_id,\n          node_name: d.node_name || \"\",\n          battery: d.battery,\n        }));\n\n        setDevices(mapped);\n      } catch (err: any) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDevices();\n  }, [paddockId]);\n\n  const handleAddDevice = () => {\n    if (paddockId) {\n      setIsModalOpen(true);\n    }\n  };\n\n  const handleEditPaddock = async () => {\n    setEditError(null);\n\n    if (!newPaddockName.trim()) {\n      setEditError(\"Paddock name cannot be empty\");\n      return;\n    }\n\n    if (newPaddockName.trim() === paddockName) {\n      setEditError(\"New name must be different from current name\");\n      return;\n    }\n\n    if (!paddockId) return;\n\n    try {\n      const token = localStorage.getItem(\"token\") || \"\";\n      const result = await updatePaddockName(\n        paddockId,\n        newPaddockName.trim(),\n        token\n      );\n\n      if (result.success) {\n        sessionStorage.setItem(\n          \"paddockData\",\n          JSON.stringify({\n            paddockId: paddockId,\n            paddockName: newPaddockName.trim(),\n          })\n        );\n\n        setPaddockName(newPaddockName.trim());\n        setIsEditModalOpen(false);\n        setEditError(null);\n      } else {\n        setEditError(result.message);\n      }\n    } catch (err: any) {\n      setEditError(err.message);\n    }\n  };\n\n  const handleDeviceClick = (device: Device) => {\n    router.push(`/device/view?nodeId=${device.node_id}`);\n  };\n\n  const handleDeletePaddock = async () => {\n    if (!paddockId) return;\n\n    setDeleteLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\") || \"\";\n      const result = await deletePaddock(paddockId, token);\n\n      if (result.success) {\n        toast.success(result.message);\n        sessionStorage.removeItem(\"paddockData\");\n        setIsDeleteModalOpen(false);\n        router.push(\"/dashboard\");\n      } else {\n        toast.error(result.message);\n      }\n    } catch (err: any) {\n      toast.error(\"Failed to delete paddock\");\n      console.error(err);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleSearchItemSelect = (item: any) => {\n    console.log('Selected item:', item);\n    if (item.node_id) {\n      router.push(`/device/view?nodeId=${item.node_id}`);\n    }\n  };\n\n  return (\n    <main className=\"h-screen overflow-hidden bg-[#0c1220] px-6 py-6 text-white relative flex flex-col\">\n      <DashboardHeader\n        userName=\"Lucas\"\n        menuOpen={menuOpen}\n        setMenuOpen={setMenuOpen}\n        searchQuery={searchQuery}\n        setSearchQuery={setSearchQuery}\n        paddocks={[]}\n        devices={devices}\n        onSearchItemSelect={handleSearchItemSelect}\n      />\n\n      <Sidebar menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n\n      <div className=\"flex-1 overflow-y-auto flex flex-col items-center pt-6\">\n        {paddockId ? (\n          <div className=\"w-full max-w-5xl space-y-8\">\n            <button\n              onClick={() => router.push(\"/dashboard\")}\n              className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group text-lg\"\n            >\n              <MdArrowBack size={24} className=\"group-hover:-translate-x-1 transition-transform\" />\n              <span>Back to Dashboard</span>\n            </button>\n\n            <section className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl shadow-xl p-6\">\n              <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-3xl font-bold text-white\">\n                  {paddockName || `Paddock #${paddockId}`}\n                </h1>\n\n                <div className=\"flex items-center gap-3\">\n                  <button\n                    onClick={() => {\n                      setNewPaddockName(paddockName || \"\");\n                      setEditError(null);\n                      setIsEditModalOpen(true);\n                    }}\n                    className=\"p-2.5 bg-[#00be64]/20 hover:bg-[#00be64]/30 rounded-lg transition-all group\"\n                    title=\"Edit paddock\"\n                  >\n                    <MdEdit size={20} color=\"#00be64\" className=\"group-hover:scale-110 transition-transform\" />\n                  </button>\n\n                  <button\n                    onClick={() => setIsDeleteModalOpen(true)}\n                    className=\"p-2.5 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition-all group\"\n                    title=\"Delete paddock\"\n                  >\n                    <MdDelete size={20} color=\"#ef4444\" className=\"group-hover:scale-110 transition-transform\" />\n                  </button>\n                </div>\n              </div>\n            </section>\n\n            <section className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl shadow-xl p-8 relative overflow-hidden\">\n              <div className=\"absolute inset-0 bg-gradient-to-br from-[#00be64]/10 to-transparent pointer-events-none\" />\n              <h2 className=\"text-2xl font-semibold mb-6 relative z-10\">Soil Health Overview</h2>\n              <div className=\"flex justify-center\">\n                <SoilHealthScore score={72} />\n              </div>\n              <p className=\"text-gray-400 text-center mt-6 max-w-xl mx-auto relative z-10\">\n                Soil health is calculated using microbial activity, organic matter, moisture balance, and nutrient availability from your active sensors.\n              </p>\n            </section>\n\n            <RecentAverages paddockId={paddockId} />\n\n            {loading && <p className=\"text-gray-400\">Loading devices...</p>}\n            {error && <p className=\"text-red-500\">{error}</p>}\n\n            {!loading && !error && (\n              <DeviceTable\n                devices={devices}\n                onAddDevice={handleAddDevice}\n                onDeviceClick={handleDeviceClick}\n              />\n            )}\n          </div>\n        ) : (\n          <p className=\"text-gray-400\">No paddock selected.</p>\n        )}\n      </div>\n\n      {paddockId && (\n        <RegisterDeviceModal\n          isOpen={isModalOpen}\n          onClose={() => setIsModalOpen(false)}\n          paddockId={Number(paddockId)}\n          onSuccess={() => {\n            const fetchDevices = async () => {\n              try {\n                const token = localStorage.getItem(\"token\") || \"\";\n                const result = await getPaddockDevices(paddockId, token);\n                if (result.success) {\n                  const mapped: Device[] = result.devices.map((d: any) => ({\n                    node_id: d.node_id,\n                    node_name: d.node_name || \"\",\n                    battery: d.battery,\n                  }));\n                  setDevices(mapped);\n                }\n              } catch (err) {\n                console.error(\"Failed to refresh devices:\", err);\n              }\n            };\n            fetchDevices();\n          }}\n        />\n      )}\n\n      {isEditModalOpen && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-[#121829] border border-[#00be64]/30 rounded-2xl p-6 w-full max-w-md\">\n            <h2 className=\"text-2xl font-bold mb-4\">Edit Paddock Name</h2>\n            <input\n              type=\"text\"\n              value={newPaddockName}\n              onChange={(e) => {\n                setNewPaddockName(e.target.value);\n                setEditError(null);\n              }}\n              className=\"w-full px-4 py-2 bg-[#0c1220] border border-gray-700 rounded-lg text-white focus:outline-none focus:border-[#00be64] mb-2\"\n              placeholder=\"Enter paddock name\"\n            />\n            {editError && <p className=\"text-red-500 text-sm mb-4\">{editError}</p>}\n            <div className=\"flex gap-3 justify-end mt-4\">\n              <button\n                onClick={() => {\n                  setIsEditModalOpen(false);\n                  setEditError(null);\n                }}\n                className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleEditPaddock}\n                className=\"px-4 py-2 bg-[#00be64] hover:bg-[#009e53] rounded-lg transition-all\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {isDeleteModalOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n          onClick={() => !deleteLoading && setIsDeleteModalOpen(false)}\n        >\n          <div className=\"bg-[#121829] border border-red-500/30 rounded-2xl p-8 w-full max-w-lg\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className=\"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center\">\n                <MdDelete size={24} color=\"#ef4444\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-red-500\">Delete Paddock</h2>\n            </div>\n            <p className=\"text-white text-lg mb-3\">\n              Are you sure you want to delete{\" \"}\n              <span className=\"font-semibold text-[#00be64]\">{paddockName || `Paddock #${paddockId}`}</span>?\n            </p>\n            <p className=\"text-gray-400 mb-8 leading-relaxed\">\n              This will unlink all devices from this paddock. This action cannot be undone.\n            </p>\n            <div className=\"flex gap-4 justify-end\">\n              <button\n                onClick={() => setIsDeleteModalOpen(false)}\n                disabled={deleteLoading}\n                className=\"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-all font-medium\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleDeletePaddock}\n                disabled={deleteLoading}\n                className={`px-6 py-3 rounded-lg transition-all font-medium ${\n                  deleteLoading ? \"bg-red-500/50 cursor-not-allowed\" : \"bg-red-500 hover:bg-red-600\"\n                }`}\n              >\n                {deleteLoading ? \"Deleting...\" : \"Delete Paddock\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}"],"names":[],"mappings":"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"}}]
}