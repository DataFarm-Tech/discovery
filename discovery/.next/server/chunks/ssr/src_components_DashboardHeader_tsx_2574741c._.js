module.exports=[63418,42343,45209,822,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131);function e({value:a,onChange:c,paddocks:e=[],devices:f=[],onItemSelect:g}){let[h,i]=(0,d.useState)(!1),j=(0,d.useRef)(null),k=[...e.map(a=>({id:`paddock-${a.paddock_id||a.id}`,name:a.paddock_name||a.name||"Unnamed Paddock",type:"paddock",data:a})),...f.map(a=>({id:`device-${a.node_id}`,name:a.node_name||a.node_id,type:"device",data:a}))].filter(b=>b.name.toLowerCase().includes(a.toLowerCase()));return(0,d.useEffect)(()=>{function a(a){j.current&&!j.current.contains(a.target)&&i(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,b.jsxs)("div",{ref:j,className:"flex-1 mx-4 max-w-lg relative",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search paddocks or devices...",value:a,onChange:a=>{var b;c(b=a.target.value),i(b.length>0)},onFocus:()=>a.length>0&&i(!0),className:"w-full px-4 py-2 bg-[#2c3e50] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00be64] transition"}),a&&(0,b.jsx)("button",{onClick:()=>{c(""),i(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),h&&k.length>0&&(0,b.jsx)("div",{className:"absolute w-full mt-2 bg-[#1a1f2e] rounded-lg border border-[#00be64]/30 shadow-xl overflow-hidden z-50 max-h-96 overflow-y-auto",children:k.map(a=>(0,b.jsxs)("div",{onClick:()=>{c(a.name),i(!1),g&&g(a.data)},className:"px-4 py-3 hover:bg-[#2c3e50] cursor-pointer transition-colors border-b border-gray-700 last:border-b-0 flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${"paddock"===a.type?"bg-[#00be64]/20 text-[#00be64]":"bg-blue-500/20 text-blue-400"}`,children:"paddock"===a.type?(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}):(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-white font-medium text-sm",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-400 capitalize mt-0.5",children:a.type})]}),(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},a.id))}),h&&a.length>0&&0===k.length&&(0,b.jsx)("div",{className:"absolute w-full mt-2 bg-[#1a1f2e] rounded-lg border border-[#00be64]/30 shadow-xl overflow-hidden z-50",children:(0,b.jsxs)("div",{className:"px-4 py-6 text-center text-gray-400",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("p",{className:"text-sm",children:"No results found"})]})})]})}function f({userName:a,menuOpen:d,setMenuOpen:f,searchQuery:g,setSearchQuery:h,paddocks:i=[],devices:j=[],onSearchItemSelect:k}){let l=(0,c.useRouter)();return(0,b.jsxs)("header",{className:"mb-8 flex justify-between items-center border-b border-white/20 pb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"text-white/80 hover:text-white transition",title:"Menu",onClick:()=>f(!d),children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,b.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Discovery"})]}),(0,b.jsx)(e,{value:g,onChange:h,paddocks:i,devices:j,onItemSelect:k}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("button",{className:"text-white/80 hover:text-white transition relative",title:"Notifications",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,b.jsx)("span",{className:"absolute top-0 right-0 inline-flex h-2 w-2 rounded-full bg-red-500"})]}),(0,b.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),l.push("/")},className:"px-3 py-1 bg-[#00be64] text-white font-semibold rounded hover:bg-[#009e53] transition",children:"Logout"})]})]})}a.s(["default",()=>f],63418);var g={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=d.default.createContext&&d.default.createContext(g),i=["attr","size","title"];function j(){return(j=Object.assign.bind()).apply(this,arguments)}function k(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?k(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):k(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function m(a){return b=>d.default.createElement(n,j({attr:l({},a.attr)},b),function a(b){return b&&b.map((b,c)=>d.default.createElement(b.tag,l({key:c},b.attr),a(b.child)))}(a.child))}function n(a){var b=b=>{var c,{attr:e,size:f,title:g}=a,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,i),k=f||b.size||"1em";return b.className&&(c=b.className),a.className&&(c=(c?c+" ":"")+a.className),d.default.createElement("svg",j({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,e,h,{className:c,style:l(l({color:a.color||b.color},b.style),a.style),height:k,width:k,xmlns:"http://www.w3.org/2000/svg"}),g&&d.default.createElement("title",null,g),a.children)};return void 0!==h?d.default.createElement(h.Consumer,null,a=>b(a)):b(g)}function o(a){return m({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(a)}function p(a){return m({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(a)}a.s(["GenIcon",()=>m],42343),a.s(["default",0,({menuOpen:a,setMenuOpen:c})=>(0,b.jsx)(b.Fragment,{children:a&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 transition-opacity duration-500 ease-in-out",style:{opacity:1},onClick:()=>c(!1),children:(0,b.jsxs)("div",{className:`absolute top-0 left-0 h-full w-[360px] backdrop-blur-lg border-r border-white/20 shadow-lg p-8 flex flex-col justify-between rounded-r-2xl transition-transform duration-500 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"rgba(11, 19, 32, 0.85)"},onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"mb-6 flex items-center justify-start",children:(0,b.jsx)("img",{src:"./datafarm-logo-trans.png",alt:"DataFarm Logo",className:"w-46 h-auto"})}),(0,b.jsx)("div",{className:"mt-auto",children:(0,b.jsxs)("ul",{className:"space-y-6 text-white/90",children:[(0,b.jsx)("li",{className:"text-lg",children:(0,b.jsxs)("a",{href:"/settings",className:"flex items-center gap-4 hover:text-[#00be64] transition",children:[(0,b.jsx)(p,{size:24}),(0,b.jsx)("span",{children:"Settings"})]})}),(0,b.jsx)("li",{className:"mb-6 text-lg",children:(0,b.jsxs)("a",{href:"/help",className:"flex items-center gap-4 hover:text-[#00be64] transition",children:[(0,b.jsx)(o,{size:24}),(0,b.jsx)("span",{children:"Help"})]})})]})}),(0,b.jsx)("div",{className:"pt-6 border-t border-white/10 text-sm text-white/70 mt-6",children:(0,b.jsxs)("p",{className:"text-lg",children:["DataFarm Technologies Pty Ltd Â© ",new Date().getFullYear()]})})]})})})],45209);let q=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";async function r(a,b){try{let c=await fetch(`${q}/paddock/${a}/devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}}),d=await c.json();if(!c.ok)return{success:!1,message:d.message||"Failed to fetch devices",devices:[]};return{success:!0,message:d.message||"Devices fetched successfully",devices:d.devices||[]}}catch(a){return console.error("Error fetching paddock devices:",a),{success:!1,message:"An error occurred while fetching devices",devices:[]}}}async function s(a,b){try{let c=await fetch(`${q}/paddock/${a}/sensor-averages`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}}),d=await c.json();if(!c.ok)return{success:!1,message:d.message||"Failed to fetch sensor averages"};return{success:!0,message:d.message||"Sensor averages fetched successfully",paddock_id:d.paddock_id,paddock_name:d.paddock_name,nodes_count:d.nodes_count,nodes_with_readings:d.nodes_with_readings,sensor_averages:d.sensor_averages||{},sensor_details:d.sensor_details||{}}}catch(a){return console.error("Error fetching sensor averages:",a),{success:!1,message:"An error occurred while fetching sensor averages"}}}async function t(a,b){try{let c=await fetch(`${q}/paddock/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({paddock_name:a||null})}),d=await c.json();if(!c.ok)return{success:!1,message:d.message||d.detail||"Failed to create paddock"};return{success:!0,message:d.message||"Paddock created successfully"}}catch(a){return console.error("Error creating paddock:",a),{success:!1,message:"An error occurred. Please try again."}}}async function u(a){try{let b=await fetch(`${q}/paddock/list`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),c=await b.json();if(!b.ok)return{success:!1,message:c.message||"Failed to fetch paddocks",paddocks:[]};return{success:!0,paddocks:c.paddocks||[]}}catch(a){return console.error("Error fetching paddocks:",a),{success:!1,message:"An error occurred while fetching paddocks",paddocks:[]}}}async function v(a,b,c){try{let d=await fetch(`${q}/paddock/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({paddock_name:b})}),e=await d.json();if(!d.ok)return{success:!1,message:e.message||e.detail||"Failed to update paddock"};return{success:!0,message:e.message||"Paddock updated successfully",paddock:e.paddock}}catch(a){return console.error("Error updating paddock:",a),{success:!1,message:"An error occurred.  Please try again."}}}async function w(a,b){try{let c=await fetch(`${q}/paddock/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}});return await c.json()}catch(a){return console.error("Error deleting paddock:",a),{success:!1,message:"Failed to delete paddock"}}}a.s(["createPaddock",()=>t,"deletePaddock",()=>w,"getPaddockDevices",()=>r,"getPaddockSensorAverages",()=>s,"getPaddocks",()=>u,"updatePaddockName",()=>v],822)}];

//# sourceMappingURL=src_components_DashboardHeader_tsx_2574741c._.js.map